<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CalcObra - Calculadora de Constru√ß√£o</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'construction': {
              50: '#fef3c7',
              100: '#fde68a',
              200: '#fcd34d',
              300: '#fbbf24',
              400: '#f59e0b',
              500: '#d97706',
              600: '#b45309',
              700: '#92400e',
              800: '#78350f',
              900: '#451a03',
            }
          }
        }
      }
    }
  </script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 4px;
    }

    .dark ::-webkit-scrollbar-thumb {
      background: #475569;
    }

    /* Smooth transitions */
    * {
      transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
    }

    /* Input focus states */
    input:focus, select:focus, button:focus {
      outline: none;
    }
  </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100">
  <div id="root"></div>

  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client"
      }
    }
  </script>

  <script type="module">
    import React, { useState, useEffect, useMemo, createContext, useContext } from 'react';
    import { createRoot } from 'react-dom/client';

    // ============================================
    // I18N TRANSLATIONS
    // ============================================
    const translations = {
      'pt-BR': {
        // Landing
        appName: 'CalcObra',
        appDescription: 'Calculadora de Materiais de Constru√ß√£o',
        appTagline: 'C√°lculos precisos, baseados em normas t√©cnicas',
        experienceQuestion: 'Qual seu n√≠vel de experi√™ncia?',
        beginner: 'Iniciante',
        beginnerDesc: 'Primeira vez construindo',
        builder: 'Construtor',
        builderDesc: 'Reformas e obras pequenas',
        professional: 'Profissional',
        professionalDesc: 'Engenheiro ou mestre de obras',
        footer: 'Baseado em NBR | Sempre consulte um engenheiro',
        
        // Calculator
        back: 'Voltar',
        mode: 'Modo',
        concrete: 'Concreto',
        bricks: 'Tijolos',
        paint: 'Tinta',
        concreteCalc: 'Calculadora de Concreto',
        whatBuilding: 'O que voc√™ vai construir?',
        slab: 'Laje',
        foundation: 'Funda√ß√£o',
        floor: 'Piso',
        other: 'Outro',
        dimensions: 'Dimens√µes',
        length: 'Comprimento',
        width: 'Largura',
        thickness: 'Espessura',
        advancedSettings: 'Configura√ß√µes Avan√ßadas',
        ratio: 'Tra√ßo (C:A:B)',
        wasteFactor: 'Fator de perda (%)',
        strength: 'Resist√™ncia (fck MPa)',
        
        // Results
        materialsNeeded: 'Materiais Necess√°rios',
        concreteVolume: 'Volume de concreto',
        exact: 'exato',
        cement: 'Cimento Portland',
        bags: 'sacos',
        each: 'cada',
        total: 'total',
        sand: 'Areia m√©dia',
        gravel: 'Brita 1',
        water: '√Ågua',
        liters: 'litros',
        important: 'IMPORTANTE',
        engineerWarning: 'Este c√°lculo √© estimativo baseado em NBR 6118. Sempre consulte um engenheiro civil para projetos estruturais.',
        seePrices: 'Ver Pre√ßos',
        downloadPDF: 'PDF',
        share: 'Compartilhar',
        fillDimensions: 'Preencha as dimens√µes para calcular',
        
        // Units
        meters: 'm',
        centimeters: 'cm',
        cubicMeters: 'm¬≥',
        kilograms: 'kg',
        
        // Theme & Language
        theme: 'Tema',
        language: 'Idioma',
        light: 'Claro',
        dark: 'Escuro',
        system: 'Sistema'
      },
      'en': {
        appName: 'BuildCalc',
        appDescription: 'Construction Materials Calculator',
        appTagline: 'Precise calculations based on technical standards',
        experienceQuestion: 'What is your experience level?',
        beginner: 'Beginner',
        beginnerDesc: 'First time building',
        builder: 'Builder',
        builderDesc: 'Renovations and small projects',
        professional: 'Professional',
        professionalDesc: 'Engineer or construction manager',
        footer: 'Based on NBR | Always consult an engineer',
        
        back: 'Back',
        mode: 'Mode',
        concrete: 'Concrete',
        bricks: 'Bricks',
        paint: 'Paint',
        concreteCalc: 'Concrete Calculator',
        whatBuilding: 'What are you building?',
        slab: 'Slab',
        foundation: 'Foundation',
        floor: 'Floor',
        other: 'Other',
        dimensions: 'Dimensions',
        length: 'Length',
        width: 'Width',
        thickness: 'Thickness',
        advancedSettings: 'Advanced Settings',
        ratio: 'Mix Ratio (C:S:G)',
        wasteFactor: 'Waste Factor (%)',
        strength: 'Strength (fck MPa)',
        
        materialsNeeded: 'Materials Needed',
        concreteVolume: 'Concrete volume',
        exact: 'exact',
        cement: 'Portland Cement',
        bags: 'bags',
        each: 'each',
        total: 'total',
        sand: 'Medium sand',
        gravel: 'Gravel #1',
        water: 'Water',
        liters: 'liters',
        important: 'IMPORTANT',
        engineerWarning: 'This calculation is an estimate based on NBR 6118. Always consult a civil engineer for structural projects.',
        seePrices: 'See Prices',
        downloadPDF: 'PDF',
        share: 'Share',
        fillDimensions: 'Fill in dimensions to calculate',
        
        meters: 'm',
        centimeters: 'cm',
        cubicMeters: 'm¬≥',
        kilograms: 'kg',
        
        theme: 'Theme',
        language: 'Language',
        light: 'Light',
        dark: 'Dark',
        system: 'System'
      },
      'fr': {
        appName: 'CalcConstruction',
        appDescription: 'Calculateur de Mat√©riaux de Construction',
        appTagline: 'Calculs pr√©cis bas√©s sur les normes techniques',
        experienceQuestion: 'Quel est votre niveau d\'exp√©rience?',
        beginner: 'D√©butant',
        beginnerDesc: 'Premi√®re construction',
        builder: 'Constructeur',
        builderDesc: 'R√©novations et petits projets',
        professional: 'Professionnel',
        professionalDesc: 'Ing√©nieur ou chef de chantier',
        footer: 'Bas√© sur NBR | Consultez toujours un ing√©nieur',
        
        back: 'Retour',
        mode: 'Mode',
        concrete: 'B√©ton',
        bricks: 'Briques',
        paint: 'Peinture',
        concreteCalc: 'Calculateur de B√©ton',
        whatBuilding: 'Que construisez-vous?',
        slab: 'Dalle',
        foundation: 'Fondation',
        floor: 'Sol',
        other: 'Autre',
        dimensions: 'Dimensions',
        length: 'Longueur',
        width: 'Largeur',
        thickness: '√âpaisseur',
        advancedSettings: 'Param√®tres Avanc√©s',
        ratio: 'Dosage (C:S:G)',
        wasteFactor: 'Facteur de perte (%)',
        strength: 'R√©sistance (fck MPa)',
        
        materialsNeeded: 'Mat√©riaux N√©cessaires',
        concreteVolume: 'Volume de b√©ton',
        exact: 'exact',
        cement: 'Ciment Portland',
        bags: 'sacs',
        each: 'chaque',
        total: 'total',
        sand: 'Sable moyen',
        gravel: 'Gravier #1',
        water: 'Eau',
        liters: 'litres',
        important: 'IMPORTANT',
        engineerWarning: 'Ce calcul est une estimation bas√©e sur NBR 6118. Consultez toujours un ing√©nieur civil pour les projets structurels.',
        seePrices: 'Voir les Prix',
        downloadPDF: 'PDF',
        share: 'Partager',
        fillDimensions: 'Remplissez les dimensions pour calculer',
        
        meters: 'm',
        centimeters: 'cm',
        cubicMeters: 'm¬≥',
        kilograms: 'kg',
        
        theme: 'Th√®me',
        language: 'Langue',
        light: 'Clair',
        dark: 'Sombre',
        system: 'Syst√®me'
      }
    };

    // ============================================
    // CONTEXTS
    // ============================================
    const ThemeContext = createContext();
    const I18nContext = createContext();

    // ============================================
    // HOOKS
    // ============================================
    const useTheme = () => {
      const context = useContext(ThemeContext);
      if (!context) throw new Error('useTheme must be used within ThemeProvider');
      return context;
    };

    const useI18n = () => {
      const context = useContext(I18nContext);
      if (!context) throw new Error('useI18n must be used within I18nProvider');
      return context;
    };

    // ============================================
    // PROVIDERS
    // ============================================
    const ThemeProvider = ({ children }) => {
      const [theme, setTheme] = useState(() => {
        const saved = localStorage.getItem('theme');
        if (saved) return saved;
        return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      });

      useEffect(() => {
        const root = document.documentElement;
        if (theme === 'dark') {
          root.classList.add('dark');
        } else {
          root.classList.remove('dark');
        }
        localStorage.setItem('theme', theme);
      }, [theme]);

      const toggleTheme = () => {
        setTheme(prev => prev === 'dark' ? 'light' : 'dark');
      };

      return React.createElement(ThemeContext.Provider, { value: { theme, setTheme, toggleTheme } }, children);
    };

    const I18nProvider = ({ children }) => {
      const [language, setLanguage] = useState(() => {
        const saved = localStorage.getItem('language');
        if (saved) return saved;
        const browserLang = navigator.language || navigator.userLanguage;
        if (browserLang.startsWith('pt')) return 'pt-BR';
        if (browserLang.startsWith('fr')) return 'fr';
        return 'en';
      });

      useEffect(() => {
        localStorage.setItem('language', language);
        document.documentElement.lang = language;
      }, [language]);

      const t = (key) => translations[language][key] || key;

      return React.createElement(I18nContext.Provider, { value: { language, setLanguage, t } }, children);
    };

    // ============================================
    // UI COMPONENTS
    // ============================================
    const ThemeToggle = () => {
      const { theme, toggleTheme } = useTheme();
      const { t } = useI18n();

      return React.createElement('button', {
        onClick: toggleTheme,
        className: 'p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors',
        title: t('theme')
      },
        React.createElement('span', { className: 'text-xl' }, theme === 'dark' ? '‚òÄÔ∏è' : 'üåô')
      );
    };

    const LanguageSelector = () => {
      const { language, setLanguage } = useI18n();
      const { t } = useI18n();

      return React.createElement('select', {
        value: language,
        onChange: (e) => setLanguage(e.target.value),
        className: 'px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-sm focus:ring-2 focus:ring-construction-500',
        title: t('language')
      },
        React.createElement('option', { value: 'pt-BR' }, 'PT'),
        React.createElement('option', { value: 'en' }, 'EN'),
        React.createElement('option', { value: 'fr' }, 'FR')
      );
    };

    // ============================================
    // LAYOUT COMPONENTS
    // ============================================
    const Header = ({ onBack, showBack }) => {
      const { t } = useI18n();

      return React.createElement('header', { 
        className: 'sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-800'
      },
        React.createElement('div', { className: 'container mx-auto px-4 py-3' },
          React.createElement('div', { className: 'flex items-center justify-between' },
            React.createElement('div', { className: 'flex items-center gap-3' },
              showBack && React.createElement('button', {
                onClick: onBack,
                className: 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors'
              }, '‚Üê'),
              React.createElement('div', { className: 'flex items-center gap-2' },
                React.createElement('span', { className: 'text-2xl' }, 'üìê'),
                React.createElement('span', { className: 'font-bold text-xl' }, t('appName'))
              )
            ),
            React.createElement('div', { className: 'flex items-center gap-2' },
              React.createElement(LanguageSelector),
              React.createElement(ThemeToggle)
            )
          )
        )
      );
    };

    const Footer = () => {
      const { t } = useI18n();

      return React.createElement('footer', { className: 'mt-16 py-8 border-t border-gray-200 dark:border-gray-800 text-center text-sm text-gray-600 dark:text-gray-400' },
        React.createElement('p', {}, t('footer'))
      );
    };

    // ============================================
    // LANDING PAGE
    // ============================================
    const ExperienceSelector = ({ onSelect }) => {
      const { t } = useI18n();

      const levels = [
        { id: 'beginner', emoji: 'üè†', title: t('beginner'), desc: t('beginnerDesc') },
        { id: 'builder', emoji: 'üî®', title: t('builder'), desc: t('builderDesc') },
        { id: 'professional', emoji: 'üë∑', title: t('professional'), desc: t('professionalDesc') }
      ];

      return React.createElement('div', {},
        React.createElement('h2', { className: 'text-2xl font-bold text-center mb-8' }, t('experienceQuestion')),
        React.createElement('div', { className: 'grid md:grid-cols-3 gap-4' },
          levels.map(level =>
            React.createElement('button', {
              key: level.id,
              onClick: () => onSelect(level.id),
              className: 'group p-6 rounded-xl border-2 border-gray-200 dark:border-gray-700 hover:border-construction-500 dark:hover:border-construction-500 hover:shadow-lg transition-all bg-white dark:bg-gray-800'
            },
              React.createElement('div', { className: 'text-4xl mb-3' }, level.emoji),
              React.createElement('div', { className: 'text-lg font-bold mb-1' }, level.title),
              React.createElement('div', { className: 'text-sm text-gray-600 dark:text-gray-400' }, level.desc)
            )
          )
        )
      );
    };

    const Landing = ({ onStart }) => {
      const { t } = useI18n();

      return React.createElement('div', {},
        React.createElement(Header, { showBack: false }),
        React.createElement('main', { className: 'container mx-auto px-4 py-16 max-w-6xl' },
          React.createElement('div', { className: 'text-center mb-16' },
            React.createElement('div', { className: 'text-6xl mb-4' }, 'üìê'),
            React.createElement('h1', { className: 'text-4xl md:text-5xl font-bold mb-3' }, t('appName')),
            React.createElement('p', { className: 'text-xl text-gray-600 dark:text-gray-400 mb-2' }, t('appDescription')),
            React.createElement('p', { className: 'text-gray-500 dark:text-gray-500' }, t('appTagline'))
          ),
          React.createElement(ExperienceSelector, { onSelect: onStart })
        ),
        React.createElement(Footer)
      );
    };

    // ============================================
    // CALCULATOR COMPONENTS
    // ============================================
    const InputField = ({ label, value, onChange, unit, onUnitChange, type = 'number', step = '0.01' }) => {
      return React.createElement('div', {},
        React.createElement('label', { className: 'block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1' }, label),
        React.createElement('div', { className: 'flex gap-2' },
          React.createElement('input', {
            type,
            value,
            onChange: (e) => onChange(e.target.value),
            className: 'flex-1 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-construction-500 focus:border-transparent',
            placeholder: '0',
            step
          }),
          onUnitChange && React.createElement('select', {
            value: unit,
            onChange: (e) => onUnitChange(e.target.value),
            className: 'px-2 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-construction-500 text-sm'
          },
            React.createElement('option', { value: 'm' }, 'm'),
            React.createElement('option', { value: 'cm' }, 'cm')
          )
        )
      );
    };

    const ConcreteCalculator = ({ experienceLevel }) => {
      const { t } = useI18n();
      const [inputs, setInputs] = useState({
        application: 'slab',
        length: '',
        width: '',
        thickness: '',
        lengthUnit: 'm',
        widthUnit: 'm',
        thicknessUnit: 'cm',
        cement: 1,
        sand: 2,
        gravel: 3,
        wasteFactor: 10,
        targetStrength: 20
      });

      const updateInput = (key, value) => {
        setInputs(prev => ({ ...prev, [key]: value }));
      };

      const results = useMemo(() => {
        const { length, width, thickness, lengthUnit, widthUnit, thicknessUnit, cement, sand, gravel, wasteFactor } = inputs;
        
        if (!length || !width || !thickness) return null;

        const l = lengthUnit === 'cm' ? parseFloat(length) / 100 : parseFloat(length);
        const w = widthUnit === 'cm' ? parseFloat(width) / 100 : parseFloat(width);
        const t = thicknessUnit === 'cm' ? parseFloat(thickness) / 100 : parseFloat(thickness);

        const volumeExact = l * w * t;
        const volumeWithWaste = volumeExact * (1 + wasteFactor / 100);

        const cementKgExact = volumeWithWaste * 350 * (cement / 1);
        const cementBagsExact = cementKgExact / 50;
        const cementBags = Math.ceil(cementBagsExact);

        const totalParts = cement + sand + gravel;
        const sandM3Exact = volumeWithWaste * (sand / totalParts) * 0.65;
        const sandM3 = Math.ceil(sandM3Exact * 100) / 100;

        const gravelM3Exact = volumeWithWaste * (gravel / totalParts) * 0.65;
        const gravelM3 = Math.ceil(gravelM3Exact * 100) / 100;

        const waterLitersExact = volumeWithWaste * 180;
        const waterLiters = Math.ceil(waterLitersExact);

        return {
          volume: { rounded: Math.ceil(volumeWithWaste * 10) / 10, exact: volumeWithWaste.toFixed(3) },
          cement: { bags: cementBags, exact: cementBagsExact.toFixed(2), kg: Math.ceil(cementKgExact) },
          sand: { rounded: sandM3, exact: sandM3Exact.toFixed(3), kg: Math.ceil(sandM3Exact * 1400) },
          gravel: { rounded: gravelM3, exact: gravelM3Exact.toFixed(3), kg: Math.ceil(gravelM3Exact * 1500) },
          water: { rounded: waterLiters, exact: waterLitersExact.toFixed(1) }
        };
      }, [inputs]);

      return React.createElement('div', { className: 'grid lg:grid-cols-3 gap-6' },
        // Input Panel
        React.createElement('div', { className: 'lg:col-span-2' },
          React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6' },
            React.createElement('h2', { className: 'text-xl font-bold mb-6' }, t('concreteCalc')),

            // Application Type
            React.createElement('div', { className: 'mb-6' },
              React.createElement('label', { className: 'block text-sm font-medium mb-3' }, t('whatBuilding')),
              React.createElement('div', { className: 'grid grid-cols-4 gap-2' },
                ['slab', 'foundation', 'floor', 'other'].map(type =>
                  React.createElement('button', {
                    key: type,
                    onClick: () => updateInput('application', type),
                    className: `px-3 py-2 rounded-lg border-2 text-sm font-medium transition-all ${
                      inputs.application === type
                        ? 'border-construction-500 bg-construction-50 dark:bg-construction-900/20 text-construction-700 dark:text-construction-400'
                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'
                    }`
                  }, t(type))
                )
              )
            ),

            // Dimensions
            React.createElement('div', { className: 'mb-6' },
              React.createElement('label', { className: 'block text-sm font-medium mb-3' }, t('dimensions')),
              React.createElement('div', { className: 'grid grid-cols-3 gap-4' },
                React.createElement(InputField, {
                  label: t('length'),
                  value: inputs.length,
                  onChange: (v) => updateInput('length', v),
                  unit: inputs.lengthUnit,
                  onUnitChange: (v) => updateInput('lengthUnit', v)
                }),
                React.createElement(InputField, {
                  label: t('width'),
                  value: inputs.width,
                  onChange: (v) => updateInput('width', v),
                  unit: inputs.widthUnit,
                  onUnitChange: (v) => updateInput('widthUnit', v)
                }),
                React.createElement(InputField, {
                  label: t('thickness'),
                  value: inputs.thickness,
                  onChange: (v) => updateInput('thickness', v),
                  unit: inputs.thicknessUnit,
                  onUnitChange: (v) => updateInput('thicknessUnit', v)
                })
              )
            ),

            // Advanced Settings
            experienceLevel === 'professional' && React.createElement('details', { className: 'border-t border-gray-200 dark:border-gray-700 pt-6' },
              React.createElement('summary', { className: 'text-sm font-medium cursor-pointer hover:text-construction-600 dark:hover:text-construction-400' }, 
                t('advancedSettings')
              ),
              React.createElement('div', { className: 'mt-4 space-y-4' },
                React.createElement('div', { className: 'grid grid-cols-2 gap-4' },
                  React.createElement('div', {},
                    React.createElement('label', { className: 'block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1' }, t('ratio')),
                    React.createElement('div', { className: 'flex gap-2 items-center' },
                      React.createElement('input', {
                        type: 'number',
                        value: inputs.cement,
                        onChange: (e) => updateInput('cement', parseFloat(e.target.value)),
                        className: 'w-16 px-2 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-sm',
                        min: '1',
                        step: '0.5'
                      }),
                      React.createElement('span', {}, ':'),
                      React.createElement('input', {
                        type: 'number',
                        value: inputs.sand,
                        onChange: (e) => updateInput('sand', parseFloat(e.target.value)),
                        className: 'w-16 px-2 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-sm',
                        min: '1',
                        step: '0.5'
                      }),
                      React.createElement('span', {}, ':'),
                      React.createElement('input', {
                        type: 'number',
                        value: inputs.gravel,
                        onChange: (e) => updateInput('gravel', parseFloat(e.target.value)),
                        className: 'w-16 px-2 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-sm',
                        min: '1',
                        step: '0.5'
                      })
                    )
                  ),
                  React.createElement('div', {},
                    React.createElement('label', { className: 'block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1' }, t('wasteFactor')),
                    React.createElement('input', {
                      type: 'number',
                      value: inputs.wasteFactor,
                      onChange: (e) => updateInput('wasteFactor', parseFloat(e.target.value)),
                      className: 'w-full px-3 py-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded text-sm',
                      min: '0',
                      max: '30'
                    })
                  )
                ),
                React.createElement('div', {},
                  React.createElement('label', { className: 'block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1' }, t('strength')),
                  React.createElement('select', {
                    value: inputs.targetStrength,
                    onChange: (e) => updateInput('targetStrength', parseInt(e.target.value)),
                    className: 'w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg text-sm'
                  },
                    React.createElement('option', { value: '15' }, '15 MPa'),
                    React.createElement('option', { value: '20' }, '20 MPa'),
                    React.createElement('option', { value: '25' }, '25 MPa'),
                    React.createElement('option', { value: '30' }, '30 MPa')
                  )
                )
              )
            )
          )
        ),

        // Results Panel
        React.createElement('div', { className: 'lg:col-span-1' },
          React.createElement('div', { className: 'bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-6 lg:sticky lg:top-24' },
            React.createElement('h3', { className: 'text-lg font-bold mb-4' }, t('materialsNeeded')),

            results ? React.createElement('div', { className: 'space-y-4' },
              // Volume
              React.createElement('div', { className: 'bg-gray-50 dark:bg-gray-900 rounded-lg p-4' },
                React.createElement('div', { className: 'text-xs text-gray-600 dark:text-gray-400 mb-1' }, t('concreteVolume')),
                React.createElement('div', { className: 'text-2xl font-bold' }, 
                  results.volume.rounded, ' ', t('cubicMeters')
                ),
                React.createElement('div', { className: 'text-xs text-gray-500' }, 
                  '(', t('exact'), ': ', results.volume.exact, ' m¬≥)'
                )
              ),

              // Cement
              React.createElement('div', { className: 'border border-gray-200 dark:border-gray-700 rounded-lg p-3' },
                React.createElement('div', { className: 'flex items-start gap-2' },
                  React.createElement('span', { className: 'text-xl' }, 'üì¶'),
                  React.createElement('div', { className: 'flex-1' },
                    React.createElement('div', { className: 'font-medium text-sm' }, t('cement')),
                    React.createElement('div', { className: 'text-lg font-bold text-construction-600 dark:text-construction-400' }, 
                      results.cement.bags, ' ', t('bags')
                    ),
                    React.createElement('div', { className: 'text-xs text-gray-500' }, 
                      '50kg ', t('each'), ' ‚Ä¢ ', results.cement.kg, ' kg ', t('total')
                    ),
                    React.createElement('div', { className: 'text-xs text-gray-400' }, 
                      '(', t('exact'), ': ', results.cement.exact, ' ', t('bags'), ')'
                    )
                  )
                )
              ),

              // Sand
              React.createElement('div', { className: 'border border-gray-200 dark:border-gray-700 rounded-lg p-3' },
                React.createElement('div', { className: 'flex items-start gap-2' },
                  React.createElement('span', { className: 'text-xl' }, 'üèúÔ∏è'),
                  React.createElement('div', { className: 'flex-1' },
                    React.createElement('div', { className: 'font-medium text-sm' }, t('sand')),
                    React.createElement('div', { className: 'text-lg font-bold text-construction-600 dark:text-construction-400' }, 
                      results.sand.rounded, ' m¬≥'
                    ),
                    React.createElement('div', { className: 'text-xs text-gray-500' }, 
                      '‚âà ', results.sand.kg, ' kg'
                    ),
                    React.createElement('div', { className: 'text-xs text-gray-400' }, 
                      '(', t('exact'), ': ', results.sand.exact, ' m¬≥)'
                    )
                  )
                )
              ),

              // Gravel
              React.createElement('div', { className: 'border border-gray-200 dark:border-gray-700 rounded-lg p-3' },
                React.createElement('div', { className: 'flex items-start gap-2' },
                  React.createElement('span', { className: 'text-xl' }, 'ü™®'),
                  React.createElement('div', { className: 'flex-1' },
                    React.createElement('div', { className: 'font-medium text-sm' }, t('gravel')),
                    React.createElement('div', { className: 'text-lg font-bold text-construction-600 dark:text-construction-400' }, 
                      results.gravel.rounded, ' m¬≥'
                    ),
                    React.createElement('div', { className: 'text-xs text-gray-500' }, 
                      '‚âà ', results.gravel.kg, ' kg'
                    ),
                    React.createElement('div', { className: 'text-xs text-gray-400' }, 
                      '(', t('exact'), ': ', results.gravel.exact, ' m¬≥)'
                    )
                  )
                )
              ),

              // Water
              React.createElement('div', { className: 'border border-gray-200 dark:border-gray-700 rounded-lg p-3' },
                React.createElement('div', { className: 'flex items-start gap-2' },
                  React.createElement('span', { className: 'text-xl' }, 'üíß'),
                  React.createElement('div', { className: 'flex-1' },
                    React.createElement('div', { className: 'font-medium text-sm' }, t('water')),
                    React.createElement('div', { className: 'text-lg font-bold text-construction-600 dark:text-construction-400' }, 
                      results.water.rounded, ' ', t('liters')
                    ),
                    React.createElement('div', { className: 'text-xs text-gray-400' }, 
                      '(', t('exact'), ': ', results.water.exact, ' L)'
                    )
                  )
                )
              ),

              // Warning
              React.createElement('div', { className: 'bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 flex gap-2' },
                React.createElement('span', { className: 'text-yellow-600 dark:text-yellow-500 flex-shrink-0' }, '‚ö†Ô∏è'),
                React.createElement('div', { className: 'text-xs' },
                  React.createElement('strong', {}, t('important'), ': '),
                  t('engineerWarning')
                )
              ),

              // Actions
              React.createElement('div', { className: 'space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700' },
                React.createElement('button', { 
                  className: 'w-full bg-construction-500 hover:bg-construction-600 text-white font-medium py-2.5 px-4 rounded-lg transition-colors'
                }, t('seePrices')),
                React.createElement('div', { className: 'grid grid-cols-2 gap-2' },
                  React.createElement('button', { 
                    className: 'px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm'
                  }, t('downloadPDF')),
                  React.createElement('button', { 
                    className: 'px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-sm'
                  }, t('share'))
                )
              )
            ) : React.createElement('div', { className: 'text-center py-12 text-gray-400' },
              React.createElement('div', { className: 'text-4xl mb-3' }, 'üìê'),
              React.createElement('p', { className: 'text-sm' }, t('fillDimensions'))
            )
          )
        )
      );
    };

    const CalculatorLayout = ({ experienceLevel, onBack }) => {
      const { t } = useI18n();
      const [activeTab, setActiveTab] = useState('concrete');

      return React.createElement('div', {},
        React.createElement(Header, { onBack, showBack: true }),
        
        // Tabs
        React.createElement('div', { className: 'bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-[57px] z-40' },
          React.createElement('div', { className: 'container mx-auto px-4' },
            React.createElement('div', { className: 'flex gap-6' },
              ['concrete', 'bricks', 'paint'].map(tab =>
                React.createElement('button', {
                  key: tab,
                  onClick: () => setActiveTab(tab),
                  className: `py-3 px-2 font-medium text-sm transition-colors relative ${
                    activeTab === tab
                      ? 'text-construction-600 dark:text-construction-400'
                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100'
                  }`
                },
                  t(tab),
                  activeTab === tab && React.createElement('div', { 
                    className: 'absolute bottom-0 left-0 right-0 h-0.5 bg-construction-500' 
                  })
                )
              )
            )
          )
        ),

        // Content
        React.createElement('main', { className: 'container mx-auto px-4 py-8 max-w-7xl' },
          React.createElement('div', { className: 'mb-4 text-sm text-gray-600 dark:text-gray-400' },
            t('mode'), ': ',
            React.createElement('span', { className: 'font-medium capitalize' }, 
              experienceLevel === 'beginner' ? t('beginner') : 
              experienceLevel === 'builder' ? t('builder') : 
              t('professional')
            )
          ),
          
          activeTab === 'concrete' && React.createElement(ConcreteCalculator, { experienceLevel }),
          activeTab === 'bricks' && React.createElement('div', { 
            className: 'text-center py-16 text-gray-400' 
          }, 'üöß ', t('bricks'), ' - Em desenvolvimento'),
          activeTab === 'paint' && React.createElement('div', { 
            className: 'text-center py-16 text-gray-400' 
          }, 'üöß ', t('paint'), ' - Em desenvolvimento')
        ),

        React.createElement(Footer)
      );
    };

    // ============================================
    // MAIN APP
    // ============================================
    const App = () => {
      const [view, setView] = useState('landing');
      const [experienceLevel, setExperienceLevel] = useState(null);

      const handleStart = (level) => {
        setExperienceLevel(level);
        setView('calculator');
      };

      const handleBack = () => {
        setView('landing');
        setExperienceLevel(null);
      };

      return React.createElement(ThemeProvider, {},
        React.createElement(I18nProvider, {},
          view === 'landing' 
            ? React.createElement(Landing, { onStart: handleStart })
            : React.createElement(CalculatorLayout, { experienceLevel, onBack: handleBack })
        )
      );
    };

    // ============================================
    // RENDER
    // ============================================
    const root = createRoot(document.getElementById('root'));
    root.render(React.createElement(App));
  </script>
</body>
</html>